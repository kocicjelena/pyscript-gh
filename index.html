<html>
    <head>
      <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
      <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    </head>

  <body>
    <h1>Let's plot random numbers</h1>
    <div id="plot"></div>
    <div id="manual-write"></div>
    <button py-click="write_to_page()" id="manual">Say Hello</button>
    <div id="display-write"></div>
    <button py-click="display_to_div()" id="display">Say Things!</button>
    <button py-click="print_to_page()" id="print">Print Things!</button>

    <py-config type="json">
        {
            "packages": ["numpy", "matplotlib","pyttsx3"],
            "fetch": [{
              "files": ["./data.py"]
            }]
          }
    </py-config>
<py-script>
import matplotlib.pyplot as plt
from data import make_x_and_y
import pyttsx3
x, y = make_x_and_y(n=1000)
fig, ax = plt.subplots()
ax.scatter(x, y)
display(fig, target="plot")

def write_to_page():
    manual_div = Element("manual-write")
    manual_div.element.innerHTML = "<p><b>Hello World</b></p>"

def display_to_div():
    display("I display things!", target="display-write")

def print_to_page():
    print("I print things!")
speak = pyttsx3.init()
t = "I will speak this text"
speak.say(t)
speak.runAndWait()
insert_rec = popup.getElementById('rec')
speak.save_to_file(t, 'new.mp3') 
speak.stop()
</py-script>
  </body>
</html>